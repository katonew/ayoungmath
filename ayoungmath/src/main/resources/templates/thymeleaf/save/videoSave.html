<!DOCTYPE html>
<html lang="ko" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
	layout:decorate="~{thymeleaf/common/default}">
<th:block layout:fragment="content">
	<div class="contentsWrap">
		<div class="subTitle">
			<h2>영상등록</h2>
		</div>
		<!-- 컨텐츠내용 -->
		<section class="contentArea">
			<div class="contents product">
				<form id="frm-object">
					<fieldset>
						<div class="writeForm">
	                        <div class="writerow">
								<div class="t">학년</div>
								<div class="c">
									<select id="grade">
										<option value="0">학년 선택</option>
										<option value="1">초등학교 1학년</option>
										<option value="2">초등학교 2학년</option>
										<option value="3">초등학교 3학년</option>
										<option value="4">초등학교 4학년</option>
										<option value="5">초등학교 5학년</option>
										<option value="6">초등학교 6학년</option>
										<option value="7">중학교 1학년</option>
										<option value="8">중학교 2학년</option>
										<option value="9">중학교 3학년</option>
										<option value="10">고등학교 1학년</option>
										<option value="11">고등학교 2학년</option>
										<option value="12">고등학교 3학년</option>
									</select>
								</div>
							</div>
							<div class="writerow">
								<div class="t">제목</div>
								<div class="c">
									<input id="videoName" type="text" class="wp100" />
								</div>
							</div>
							<div class="writerow">
								<div class="t">확장자</div>
								<div class="c">
									<input id="fileExt" type="text" class="wp100" />
								</div>
							</div>
							<div class="writeFormSubmit">
								<button type="button" id="btn_cancel" onClick="goBack()" class="btn_can btn bdGray">목록</button>
								<th:block>
									<button type="button" id="btn_modify" class="btn_sub btn bgMain">저장</button>
								</th:block>
							</div>
						</div>
					</fieldset>
				</form>
			</div>
		</section>
	</div>
</th:block>
<th:block layout:fragment="js">
	<script>
		$(document).ready(function(){
    		$(document).on("click","#btn_modify",function(){
				let grade = $('#grade').val();
				let videoName = $('#videoName').val();
				let fileExt = $('#fileExt').val();
				
				if(grade==0){
					alertInfo('알림', '학년을 선택하세요.');
					return;
				}else if(videoName==''){
					alertInfo('알림', '제목을 입력하세요.');
					return;
				}else if(fileExt==''){
					alertInfo('알림', '확장자를 입력하세요.');
					return;
				}
				
				$.ajax({
					url : '/video/exec',
					method : 'post',
					data : {
						'grade' : grade,
						'videoName' : videoName,
						'fileExt' : fileExt
					},
					success : function(d){
						alertSuccessLink('성공','저장을 완료하였습니다.','/videoSave');
					},error : function(e,s){
						console.log(e)
						alertWarning('저장 실패', '저장 실패')
					}
					
				})
				
			});
		});
	</script>
</th:block>
</th:blcok>